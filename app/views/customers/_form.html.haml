= render "shared/error_messages", :target => @customer
.group
  .columns.wat-cf 
    .column.left
      = f.label :firstname, t("assur.customer.firstname") + mark_required(@customer, :firstname), :class => :label
      = f.text_field :firstname, :class => 'text_field focus'
    .column.right
      = f.label :lastname, t("assur.customer.lastname") + mark_required(@customer, :lastname), :class => :label
      = f.text_field :lastname, :class => 'text_field'
.group
  .columns.wat-cf.threecols
    .one
      - now = Time.now
      = f.label :birthdate, t("assur.customer.birthdate") + mark_required(@customer, :birthdate), :class => :label
      = f.date_select :birthdate, :class => 'date_select', :start_year => now.year - 120, :end_year => now.year + 1, :default => { :day => 1, :month => 1, :year => now.year - 30 }
    .two
      = f.label :sex_id, t("assur.customer.gender") + mark_required(@customer, :sex_id), :class => :label
      = f.collection_select(:sex_id, Sex.all, :id, :name)
    .three
      = f.label :reference, t("assur.customer.reference") + mark_required(@customer, :reference), :class => :label
      %span.in_place_edit{:target => 'customer_reference'}
        %span.readonly= @customer.reference
        = text_field_tag 'customer[reference]', @customer.reference, :class => 'in_place_edit_text_field', :style => 'display:none'
.group
  .columns.wat-cf.threecols 
    .one
      = f.label :nationality_id, t("assur.customer.nationality") + mark_required(@customer, :nationality_id), :class => :label
      = f.collection_select(:nationality_id, Nationality.all, :id, :name)
    .two
      = f.label :language_id, t("assur.customer.language"), :class => :label
      = f.collection_select(:language_id, Language.all, :id, :name)
= f.fields_for :address do |a|
  .fieldset
    .group
      = a.label :street, t("assur.customer.street") + mark_required(@customer.address, :street), :class => :label
      = a.text_field :street, :class => 'text_field'
    .group
      .columns.wat-cf.fourcols
        .column.one
          = a.label :number, t("assur.customer.number") + mark_required(@customer.address, :number), :class => :label
          = a.text_field :number, :class => 'text_field'
        .column.two    
          = a.label :box, t("assur.customer.box") + mark_required(@customer.address, :box), :class => :label
          = a.text_field :box, :class => 'text_field'
        .column.three
          = a.label :zipcode, t("assur.customer.zipcode") + mark_required(@customer.address, :zipcode), :class => :label
          = a.text_field :zipcode, :class => 'text_field'        
    .group
      .columns.wat-cf 
        .column.left     
          = a.label :city, t("assur.customer.city") + mark_required(@customer.address, :city), :class => :label
          = a.text_field :city, :class => 'text_field'
        .column.right
          = a.label :country_id, t("assur.customer.country") + mark_required(@customer.address, :country_id), :class => :label
          = a.collection_select(:country_id, Country.all, :id, :name)

.fieldset
  .group
    .columns.wat-cf 
      .column.left
        = f.label :title_id, t("assur.customer.title") + mark_required(@customer, :title_id), :class => :label
        = f.collection_select(:title_id, Title.all, :id, :name)
      .column.right
        = f.label :tva_number, t("assur.customer.Tva_number") + mark_required(@customer, :tva_number), :class => :label
        = f.text_field :tva_number, :class => 'text_field'
        %span.description= "#{t("assur.general.ie")} #{t("assur.general.ie_tva")}"
  .group
    .columns.wat-cf 
      .column.left
        = f.label :email, t("assur.customer.email") + mark_required(@customer, :email), :class => :label
        = f.text_field :email, :class => 'text_field'
        %span.description Ex: george.dupont@example.com
      .column.right
        = f.label :phone, t("assur.customer.phone") + mark_required(@customer, :phone), :class => :label
        = f.text_field :phone, :class => 'text_field'
        %span.description Ex: 0123 23 45 67
.group
  = f.label :comment, t("assur.customer.comment") + mark_required(@customer, :comment), :class => :label
  = f.text_area :comment, :class => 'text_area', :rows => 5
.group.navform
  .columns.wat-cf
    .column.left
      %button.button{:type => "button", :onclick => 'document.forms[0].submit();'}
        = image_tag("web-app-theme/icons/tick.png", :alt => "#{t("assur.general.save")}")
        = t("assur.general.save")
      = link_to image_tag("web-app-theme/icons/cross.png", :alt => "#{t("assur.general.cancel")}") + " " + t("assur.general.cancel"), customers_path, :class => "button"
    - unless f.object.new_record?
      .column.right
        = link_to image_tag("web-app-theme/icons/bin.png", :alt => t("assur.general.delete")) + " " + t("assur.general.delete"), customer_path(@bill), :class => "button rbutton", :method => :delete, :confirm => t("assur.general.are_you_sure")